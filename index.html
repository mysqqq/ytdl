<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lei's Valentine</title>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  height:100%;
  background:#ffffff;
  font-family:'Source Sans Pro',sans-serif;
  overflow:hidden;
  cursor:none;
}

.cursor{
  position:fixed;pointer-events:none;z-index:9999;
  width:10px;height:10px;border-radius:50%;
  background:#c0627a;
  transform:translate(-50%,-50%);
  transition:left .06s,top .06s;
  box-shadow:0 0 8px rgba(192,98,122,.4);
}

#bgCanvas{position:fixed;inset:0;z-index:0;pointer-events:none}
#celebCanvas{position:fixed;inset:0;z-index:100;pointer-events:none;display:none}

#loader{
  position:fixed;inset:0;background:#fff;z-index:1000;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:14px;
  transition:opacity .9s,visibility .9s;
}
#loader.hide{opacity:0;visibility:hidden}
.loader-ring{
  width:44px;height:44px;border-radius:50%;
  border:2px solid #f0d9dd;
  border-top-color:#c0627a;
  animation:spin .9s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.loader-label{
  font-size:.75rem;font-weight:300;
  color:#b08090;letter-spacing:3px;text-transform:uppercase;
  animation:fadeIO 1.6s infinite;
}
@keyframes fadeIO{0%,100%{opacity:.3}50%{opacity:1}}

#main{
  position:relative;z-index:10;
  height:100vh;
  display:flex;align-items:center;justify-content:center;
  padding:24px;
  opacity:0;
  animation:fadeUp 1s .6s forwards;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}

.content{
  width:100%;max-width:420px;
  text-align:center;
}

.eyebrow{
  font-size:.68rem;font-weight:300;
  letter-spacing:5px;text-transform:uppercase;
  color:#c0a0a8;
  margin-bottom:32px;
  animation:eyeFloat 4s ease-in-out infinite;
}
@keyframes eyeFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}

.heart-icon{
  width:36px;height:36px;
  margin:0 auto 28px;
  position:relative;
  animation:heartBeat 1.2s ease-in-out infinite;
}
@keyframes heartBeat{
  0%,100%{transform:scale(1)}
  14%{transform:scale(1.1)}
  28%{transform:scale(1)}
  42%{transform:scale(1.06)}
}
.heart-icon::before,.heart-icon::after{
  content:'';position:absolute;
  width:18px;height:28px;border-radius:18px 18px 0 0;
  background:linear-gradient(160deg,#d4758a,#c0627a);
}
.heart-icon::before{left:18px;transform-origin:0 100%;transform:rotate(-45deg)}
.heart-icon::after{left:0;transform-origin:100% 100%;transform:rotate(45deg)}

.question{
  font-size:1.65rem;font-weight:600;
  color:#2a1520;
  letter-spacing:-.3px;
  line-height:1.35;
  margin-bottom:14px;
}

.divider{
  display:flex;align-items:center;justify-content:center;gap:12px;
  margin:18px auto;
}
.div-line{width:60px;height:1px;background:linear-gradient(90deg,transparent,#d4a0ad,transparent)}
.div-dot{width:4px;height:4px;border-radius:50%;background:#c0627a;opacity:.6}

.subtitle{
  font-size:.88rem;font-weight:300;font-style:italic;
  color:#8a6070;
  line-height:1.85;
  letter-spacing:.2px;
}
.subtitle b{font-weight:600;font-style:normal;color:#c0627a}

.prompt{
  font-size:1rem;font-weight:400;
  color:#b08090;
  letter-spacing:.4px;
  margin-top:16px;
  opacity:1;
  transition:opacity .4s ease, transform .4s ease;
}
.prompt.fade-out{
  opacity:0;
  transform:translateY(-8px);
}
.prompt.fade-in{
  animation:fadeSlideIn .5s ease forwards;
}
@keyframes fadeSlideIn{
  from{opacity:0;transform:translateY(8px)}
  to{opacity:1;transform:translateY(0)}
}

.btns{
  display:flex;
  align-items:center;justify-content:center;
  gap:16px;
  margin-top:8px;
  flex-wrap:wrap;
  min-height:60px;
}

.btn-yes{
  font-family:'Source Sans Pro',sans-serif;
  font-size:.82rem;font-weight:600;
  letter-spacing:3px;text-transform:uppercase;
  color:#fff;
  background:#c0627a;
  border:none;border-radius:3px;
  padding:14px 44px;
  cursor:none;
  position:relative;overflow:hidden;
  box-shadow:0 8px 24px rgba(192,98,122,.3);
  transition:transform .2s,box-shadow .2s;
  animation:yesPulse 2.5s ease-in-out infinite;
}
.btn-yes::after{
  content:'';position:absolute;
  top:0;left:-80%;
  width:50%;height:100%;
  background:rgba(255,255,255,.18);
  transform:skewX(-20deg);
  animation:sweep 2.8s infinite;
}
@keyframes sweep{0%{left:-80%}100%{left:140%}}
@keyframes yesPulse{
  0%,100%{box-shadow:0 8px 24px rgba(192,98,122,.3)}
  50%{box-shadow:0 12px 36px rgba(192,98,122,.48)}
}
.btn-yes:active{transform:scale(.97)}

.btn-no{
  font-family:'Source Sans Pro',sans-serif;
  font-size:.82rem;font-weight:400;
  letter-spacing:3px;text-transform:uppercase;
  color:#c0627a;
  background:transparent;
  border:1px solid #d9a0ad;
  border-radius:3px;
  padding:14px 44px;
  cursor:none;
  position:fixed;
  transition:opacity .25s,border-color .25s,color .25s;
}
.btn-no:hover{background:rgba(192,98,122,.04)}

#celebration{
  position:fixed;inset:0;
  background:rgba(255,255,255,.97);
  backdrop-filter:blur(6px);
  z-index:200;
  display:none;
  flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;padding:30px;
  gap:16px;
}
.celeb-heart{
  width:52px;height:52px;position:relative;
  margin:0 auto;
  animation:cBeat .55s ease-in-out infinite alternate;
}
@keyframes cBeat{0%{transform:scale(1)}100%{transform:scale(1.18)}}
.celeb-heart::before,.celeb-heart::after{
  content:'';position:absolute;
  width:26px;height:40px;border-radius:26px 26px 0 0;
  background:linear-gradient(160deg,#e08090,#c0627a);
}
.celeb-heart::before{left:26px;transform-origin:0 100%;transform:rotate(-45deg)}
.celeb-heart::after{left:0;transform-origin:100% 100%;transform:rotate(45deg)}

.celeb-title{
  font-size:1.45rem;font-weight:600;
  color:#2a1520;letter-spacing:-.2px;
  animation:fadeUp .6s forwards;
}
.celeb-sub{
  font-size:.85rem;font-weight:300;font-style:italic;
  color:#8a6070;line-height:1.9;
  max-width:280px;
  animation:fadeUp .6s .2s both;
}
.fhearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
</style>
</head>
<body>

<div class="cursor" id="cursor"></div>

<!-- Loader -->
<div id="loader">
  <div class="loader-ring"></div>
  <div class="loader-label">preparing</div>
</div>

<canvas id="bgCanvas"></canvas>
<canvas id="celebCanvas"></canvas>

<!-- Main -->
<div id="main">
  <div class="content">
    <div class="eyebrow">February 14</div>
    <div class="heart-icon"></div>
    <h1 class="question">Will you be my Valentine?</h1>
    <div class="divider">
      <div class="div-line"></div>
      <div class="div-dot"></div>
      <div class="div-line"></div>
    </div>
    <p class="subtitle">
      I, <b>Lei</b>, am sincerely asking you<br>
      to be my Valentine this February 14.
    </p>
    <div class="btns">
      <button class="btn-yes" id="btnYes" onclick="celebrate()">Yes</button>
      <button class="btn-no" id="btnNo" onclick="handleNo()">No</button>
    </div>
    <p class="prompt" id="promptText">you may answer now üíû</p>
  </div>
</div>

<!-- Celebration -->
<div id="celebration">
  <div class="fhearts" id="fhearts"></div>
  <div class="celeb-heart"></div>
  <div class="celeb-title">YIEEEEE! üíï</div>
  <p class="celeb-sub">
    Kilig much! You said YES! ü•∞<br>
    Lei is now officially the luckiest girl alive!<br>
    This is the start of our forever. ‚ù§Ô∏è
  </p>
</div>

<script>
// ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ
const cur = document.getElementById('cursor');
document.addEventListener('mousemove', e => {
  cur.style.left = e.clientX + 'px';
  cur.style.top = e.clientY + 'px';
});

// ‚îÄ‚îÄ LOADER ‚îÄ‚îÄ
window.addEventListener('load', () => {
  setTimeout(() => {
    document.getElementById('loader').classList.add('hide');
    initBg();
    placeNo();
  }, 1800);
});

// ‚îÄ‚îÄ BG CANVAS ‚îÄ‚îÄ
const bgC = document.getElementById('bgCanvas');
const bgX = bgC.getContext('2d');
function resizeBg(){ bgC.width=innerWidth; bgC.height=innerHeight; }
resizeBg();
window.addEventListener('resize', () => { resizeBg(); placeNo(); });

// Soft floating petals (no emoji ‚Äî pure shapes)
class Petal {
  constructor(){ this.init(); }
  init(){
    this.x = Math.random() * bgC.width;
    this.y = -20 - Math.random() * bgC.height;
    this.w = 6 + Math.random() * 10;
    this.h = 9 + Math.random() * 14;
    this.vy = .35 + Math.random() * .8;
    this.vx = (Math.random() - .5) * .5;
    this.rot = Math.random() * 360;
    this.rs = (Math.random() - .5) * 1.2;
    this.op = .06 + Math.random() * .14;
    const hue = 340 + Math.random() * 20;
    const l = 70 + Math.random() * 20;
    this.col = `hsl(${hue},60%,${l}%)`;
  }
  update(){
    this.y += this.vy;
    this.x += this.vx + Math.sin(this.y * .012) * .3;
    this.rot += this.rs;
    if(this.y > bgC.height + 30) this.init();
  }
  draw(){
    bgX.save();
    bgX.globalAlpha = this.op;
    bgX.translate(this.x, this.y);
    bgX.rotate(this.rot * Math.PI / 180);
    bgX.beginPath();
    bgX.ellipse(0, 0, this.w/2, this.h/2, 0, 0, Math.PI*2);
    bgX.fillStyle = this.col;
    bgX.fill();
    bgX.restore();
  }
}

// Soft dust sparkles
class Dust {
  constructor(){ this.init(); }
  init(){
    this.x = Math.random() * bgC.width;
    this.y = Math.random() * bgC.height;
    this.r = .5 + Math.random() * 1.5;
    this.phase = Math.random() * Math.PI * 2;
    this.sp = .015 + Math.random() * .025;
  }
  update(){ this.phase += this.sp; }
  draw(){
    const a = (Math.sin(this.phase) + 1) / 2 * .18;
    bgX.beginPath();
    bgX.arc(this.x, this.y, this.r, 0, Math.PI*2);
    bgX.fillStyle = `rgba(192,98,122,${a})`;
    bgX.fill();
  }
}

let petals = [], dusts = [];
function initBg(){
  for(let i=0;i<55;i++) petals.push(new Petal());
  for(let i=0;i<140;i++) dusts.push(new Dust());
  animBg();
}
function animBg(){
  bgX.clearRect(0,0,bgC.width,bgC.height);
  dusts.forEach(d=>{d.update();d.draw()});
  petals.forEach(p=>{p.update();p.draw()});
  requestAnimationFrame(animBg);
}

// ‚îÄ‚îÄ NO BUTTON ‚îÄ‚îÄ
const btnNo = document.getElementById('btnNo');
const btnYes = document.getElementById('btnYes');
const promptText = document.getElementById('promptText');
let noClicks = 0;
let isDodging = false;

const noMessages = [
  "sure na ba?",
  "wag oi",
  "pls, click mo na yung YES"
];

function updatePromptText(newText){
  // Fade out
  promptText.classList.add('fade-out');
  
  // Wait for fade out, then change text and fade in
  setTimeout(() => {
    promptText.textContent = newText;
    promptText.classList.remove('fade-out');
    promptText.classList.add('fade-in');
    
    // Remove fade-in class after animation
    setTimeout(() => {
      promptText.classList.remove('fade-in');
    }, 500);
  }, 400);
}

function handleNo(){
  if(noClicks < 3){
    updatePromptText(noMessages[noClicks]);
    noClicks++;
    
    // After 3rd click, start dodging
    if(noClicks === 3){
      setTimeout(() => {
        isDodging = true;
        btnNo.style.transition = 'left .25s ease-out, top .25s ease-out, opacity .25s';
      }, 800); // Give time for message to show
    }
  }
}

function placeNo(){
  if(isDodging) return;
  const r = btnYes.getBoundingClientRect();
  btnNo.style.left = (r.right + 20) + 'px';
  btnNo.style.top = r.top + 'px';
}

function dodgeButton(){
  if(!isDodging) return;
  
  const pad = 80;
  const nx = pad + Math.random() * (innerWidth - pad*2);
  const ny = pad + Math.random() * (innerHeight - pad*2);
  
  btnNo.style.left = nx + 'px';
  btnNo.style.top = ny + 'px';
  
  // Gradually fade out
  const currentOpacity = parseFloat(btnNo.style.opacity || 1);
  btnNo.style.opacity = String(Math.max(.1, currentOpacity - .15));
}

// Mouse proximity detector
document.addEventListener('mousemove', e => {
  if(!isDodging) return;
  const r = btnNo.getBoundingClientRect();
  const dist = Math.hypot(e.clientX-(r.left+r.width/2), e.clientY-(r.top+r.height/2));
  if(dist < 140) dodgeButton();
});

btnNo.addEventListener('touchstart', e => {
  if(isDodging){
    e.preventDefault();
    dodgeButton();
  }
}, {passive:false});

// ‚îÄ‚îÄ CELEBRATION ‚îÄ‚îÄ
const celebDiv = document.getElementById('celebration');
const celebC = document.getElementById('celebCanvas');
const celebX = celebC.getContext('2d');
let particles = [], celebrating = false;

function celebrate(){
  if(celebrating) return;
  celebrating = true;
  celebDiv.style.display = 'flex';
  celebC.style.display = 'block';
  celebC.width = innerWidth; celebC.height = innerHeight;

  // Romantic floating hearts (soft CSS shapes)
  const fh = document.getElementById('fhearts');
  for(let i=0;i<25;i++){
    const heart = document.createElement('div');
    const sz = 14 + Math.random() * 24;
    heart.style.cssText = `
      position:absolute;
      left:${Math.random()*100}%;
      bottom:-60px;
      width:${sz}px;height:${sz}px;
      opacity:0;
      animation:floatUp ${4+Math.random()*5}s ease-in ${Math.random()*2}s infinite;
    `;
    
    // CSS heart shape
    const h1 = document.createElement('div');
    const h2 = document.createElement('div');
    h1.style.cssText = h2.style.cssText = `
      position:absolute;
      width:${sz/2}px;height:${sz*.7}px;
      border-radius:${sz/2}px ${sz/2}px 0 0;
      background:hsl(${345+Math.random()*15},${60+Math.random()*20}%,${72+Math.random()*15}%);
    `;
    h1.style.left = `${sz/2}px`;
    h1.style.transformOrigin = '0 100%';
    h1.style.transform = 'rotate(-45deg)';
    h2.style.left = '0';
    h2.style.transformOrigin = '100% 100%';
    h2.style.transform = 'rotate(45deg)';
    
    heart.appendChild(h1);
    heart.appendChild(h2);
    fh.appendChild(heart);
  }

  // Soft confetti with glow
  const colors = [
    {r:192,g:98,b:122},
    {r:232,g:160,b:176},
    {r:245,g:208,b:216},
    {r:212,g:117,b:138},
    {r:255,g:240,b:245}
  ];
  
  for(let i=0;i<200;i++){
    const col = colors[Math.floor(Math.random()*colors.length)];
    particles.push({
      x:Math.random()*celebC.width,
      y:Math.random()*celebC.height - celebC.height,
      w:3+Math.random()*8, 
      h:3+Math.random()*8,
      r:col.r, g:col.g, b:col.b,
      vy:1.5+Math.random()*3, 
      vx:(Math.random()-.5)*2,
      rot:Math.random()*360, 
      rs:(Math.random()-.5)*4,
      op:.5+Math.random()*.5,
      glow:Math.random()>.7
    });
  }
  animCeleb();
}

function animCeleb(){
  if(!celebrating) return;
  celebX.clearRect(0,0,celebC.width,celebC.height);
  
  particles.forEach(p => {
    p.y+=p.vy; 
    p.x+=p.vx+Math.sin(p.y*.02)*.4; 
    p.rot+=p.rs;
    
    celebX.save();
    celebX.globalAlpha=p.op;
    
    // Add soft glow to some particles
    if(p.glow){
      celebX.shadowBlur = 12;
      celebX.shadowColor = `rgba(${p.r},${p.g},${p.b},.6)`;
    }
    
    celebX.translate(p.x,p.y);
    celebX.rotate(p.rot*Math.PI/180);
    celebX.fillStyle=`rgb(${p.r},${p.g},${p.b})`;
    celebX.fillRect(-p.w/2,-p.h/2,p.w,p.h);
    celebX.restore();
    
    if(p.y>celebC.height){ 
      p.y=-10; 
      p.x=Math.random()*celebC.width; 
    }
  });
  
  requestAnimationFrame(animCeleb);
}

const st = document.createElement('style');
st.textContent = `
@keyframes floatUp{
  0%{transform:translateY(0) scale(.4);opacity:0}
  15%{opacity:.8}
  85%{opacity:.5}
  100%{transform:translateY(-${innerHeight+60}px) scale(1.1);opacity:0}
}`;
document.head.appendChild(st);
</script>
</body>
</html>
